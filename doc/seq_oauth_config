title Gluu OAuth Auth and PEP plugin configuration

konga->kong: Create service with url: "https://demo.com"
kong->konga: Response with service object
konga->kong: Create route with service_id
kong->konga: Response with response object

note over konga
start configure Gluu-OAuth-Auth plugin
end note
alt New Client
    konga->oxd: Create client(register-client)
    oxd->OP:
    OP->oxd:
    oxd->konga: Return with client credentials
else Use Existing Client
    note over konga, kong
        User can use existing client credentials
        Enter oxd_id
        Enter client_id
        Enter client_secret
    end note
end
note over konga
    Pass client credetial to plugin
end note
konga->kong: Configure Gluu-OAuth-Auth plugin with [Service|Route|API|Global]
note over kong
Gluu-OAuth-Auth schema:
1. oxd_id
2. client_id
3. client_secret
4. op_url
5. oxd_url
6. anonymous
7. hide_credentials
end note
kong->kong_DB: Add Gluu-OAuth-Auth
kong_DB->kong:
kong->konga: Return with Gluu-OAuth-Auth config details
note over konga
End configuration for Gluu-OAuth-Auth plugin
end note

note over konga
Start configuration for Gluu-OAuth-PEP plugin
end note
konga->kong: Configure Gluu-OAuth-PEP plugin with [Service|Route|API|Global]
note over kong
Gluu-OAuth-PEP schema:
1. oauth_scope_expression
2. deny_by_default
end note
kong->kong_DB: Add Gluu-OAuth-PEP
kong_DB->kong:
kong->konga: Return with Gluu-OAuth-PEP config details
